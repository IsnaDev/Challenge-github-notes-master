### Protocolo HTTP
HyperText Transfer Protocol (HTTP)

â€¢ Definido pelos RFCs 1945 e 2116;
â€¢ Ã‰ um protocolo de comunicaÃ§Ã£o;
â€¢ Browser -> implementa o cliente HTTP;
â€¢ Servidor -> host objetos web (hospedar);
â€¢ Cliente
    Mensagens - Request HTTP (requisitar)

â€¢ Servidor
    Mensagens â€“ Response HTTP (responder)

#### Mensagens HTTP

â€¢ Tipos: request & response

#### Request
O texto Ã© em ASCII

Exemplo de Request:
Get: /somedir/page.html (mÃ©todo HTTP) HTTP/1.1 (versÃ£o) => (request line - texto em ASCII)
Host: www.someschool.edu (URL) => (ðŸ‘ˆðŸ» header line ðŸ‘‡ðŸ»)
Connection: close (tipo de conexÃ£o)
User-agent: Mozilla/5.0 (agente)
Accept-language: fr (preferÃªncia do cliente)

MÃ©todos mais utilizados: GET e POST

GET: solicita um recurso do servidor (mÃ©todo seguro)*
HEAD: GET sem corpo de resposta (mÃ©todo seguro)*
POST: submete uma entidade a um recurso
PUT: substituiÃ§Ã£o de recursos pelos dados da requisiÃ§Ã£o
DELETE: remoÃ§Ã£o de um recurso
TRACE: chamada de loop-back a um determinado recurso / diagnÃ³stico da rede
OPTION: opÃ§Ãµes de comunicaÃ§Ã£o com recurso (mÃ©todo seguro)*
CONNECT: tunelamento identificado pelo recurso
PATCH: modificaÃ§Ã£o parcial (RFC 5789)

*Metodos seguros = nÃ£o modifica o estado do servidor quando sÃ£o executados
GET, HEAD e OPTION => operaÃ§Ã£o de leitura (read-only)

#### Response

Exemplo de response:
HTTP/1.1 200 OK  (status line)
Connection: close (ðŸ‘ˆðŸ» header line ðŸ‘‡ðŸ»)
Date: Tue, 09 Aug 2011 15:44:04 GMT
Server: Apache/2.2.3 (CentOS)
Last-Modified: Tue, 09 Aug 2011 15:11:03 GMT
Content-Length: 6821
Content-Type: text/html
(data ... Update Succeed) (entity body)

##### Mensagens HTTP - Response

STATUS LINE
HTTP/1.1 200 OK 
â€¢ VersÃ£o do protocolo;
â€¢ Status code;
â€¢ Status da mensagem:
    200 OK: request bem sucedida e objeto enviado
    301 Moved Permanently: objeto realocado nova URL no campo Location
    400 Bad Request: resposta genÃ©rica - servidor nÃ£o entendeu a mensagem
    404 Not Found: o documento solicitado Ã© inexistente
    505 HTTP Version Not Supported: versÃ£o do protocolo nÃ£o suportada pelo servidor

##### ClassificaÃ§Ã£o dos Status Code

â€¢ Information response (100 â€“ 199);
â€¢ Successful response (200 â€“ 299);
â€¢ Redirection response (300 â€“ 399);
â€¢ Client error response (400 â€“ 499);
â€¢ Server error response (500 â€“ 599).

##### Web Distributed Authoring and Versioning (WebDav)

â€¢ 102 â€“ Processing;
â€¢ 207 â€“ Multi-status;
â€¢ 208 â€“ Already Reported;
â€¢ 422 â€“ Unprocessable Entity;
â€¢ 423 â€“ Locked;
â€¢ 424 â€“ Failed Dependency.

â€¢ Webpage Meta: Add, deletar, retrieve
â€¢ Link pages
â€¢ CriaÃ§Ã£o de conj. de documentos
â€¢ Copy e move
â€¢ Lock: documento editado - 1

##### Mensagens HTTP - Response

HEADER LINE
Connection: close
Date: Tue, 09 Aug 2011 15:44:04 GMT
Server: Apache/2.2.3 (CentOS)
Last-Modified: Tue, 09 Aug 2011 15:11:03 GMT
Content-Length: 6821
Content-Type: text/html

â€¢ ConexÃ£o encerrada;
â€¢ Dados da mensagem: Data, servidor, ...;
â€¢ Content-type: Tipo de dado.

ENTITY
(data , data, ....)

â€¢ Request Method & Status Code;
Campos:
â€¢ Entity Header (DefiniÃ§Ãµes - campo: Accept e Content)
â€¢ Entity Body

HTTP Entity Body: XML - JSON
Armazenamento, transmissÃ£o e reconstruÃ§Ã£o

XML: serialization, comunicaÃ§Ã£o e metadados
JSON: Lightweight, independente de linguaguem e simples.

Comum (XML e JSON):
â€¢ Auto-descritivos;
â€¢ HierÃ¡rquicos;
â€¢ Independentes de linguagem de programaÃ§Ã£o;
â€¢ Vasta utilizaÃ§Ã£o.

DiferenÃ§as (XML e JSON):
â€¢ tags;
â€¢ sucinto;
â€¢ legibilidade;
â€¢ utilizaÃ§Ã£o de arrays.

Por qual optar?
Tecnologia, complexidade, aplicaÃ§Ãµes leves e metadados.

Transmission Control Protocol - TCP

### O que sÃ£o Cookies?

Pequenos pedaÃ§os ou blocos de dados criados e utilizados pelo
servidor para persistir dados no dispositivo do cliente.

EspecificaÃ§Ã£o: RFC 6265

Request HTTP (primeiro acesso)
user ID (Acesso ao back-end DB)
Header Set-Cookie: ID
Responde

Cookies de persistentes (login permanece acessado)
Cookies de sessÃ£o (sÃ£o apagados da memÃ³ria quando Ã© encerrada a sessÃ£o)
Manter logins ativos;
Carrinho de ecommerce;
InformaÃ§Ã£o de website.

Hacking
LGPD & Cookies
Cookies e Privacidade

#### HTTP 1.1
Envio de atÃ© 6 request simultÃ¢neamente e aguarda os 6 request
RepetiÃ§Ã£o de dados
Foco: css/js e gzip (para minimizar o tamanho para ter uma transmissÃ£o mais eficiente)
caching
HOL - head of line blocking (faz apenas uma request e aguarda um response)

###### Web Cache?
Entidade
Web Cache
Proxy server
    ReduÃ§Ã£o do tempo de resposta
    ReduÃ§Ã£o do trÃ¡fego

#### HTTP 2.0
MultiplexaÃ§Ã£o
    GET main.html (stream 1) - PriorizaÃ§Ã£o de recursos! --->
    GET main.js(stream 2)   --->
    GET img.jpg (stream 3)  --->
push
    GET main.html (stream 1)--->
    RESPONSE main.html      <---
    PUSH main.js            <---
    PUSH img.jpg            <---

Melhorias:
â€¢ Ãšnica conexÃ£o persistente;
â€¢ CompressÃ£o de header; (reutilizaÃ§Ã£o do header)
â€¢ Server push; (o cliente precisa ter o suporte para usar o push)
â€¢ HTTPS por padrÃ£o - TLS (ultima versÃ£o do SSA);
â€¢ NegociaÃ§Ã£o no handshake. (verificar se o cliente suporta a versÃ£oo HTTP 2.0)

CONTRAS
PUSH
    â€¢ ConfiguraÃ§Ã£o incorreta
Mixe 1.1 e 2.0
    â€¢ LentidÃ£o
    â€¢ Load balancer â€“ HTTP 1.1

#### Servidores/Sistemas

##### Apache - HTTP SERVER PROJECT
â€¢ Datado de 1995;
â€¢ ContribuiÃ§Ã£o c/ WWW;
â€¢ Opensource & free;
â€¢ Comunidade:
    Apache Software Foundation

CaracterÃ­sticas:
â€¢ Modular, dinÃ¢mico e carrefÃ¡vel;
â€¢ Multiple Request Processing modes (MPMs); altamente escalÃ¡vel
â€¢ Altamente escalÃ¡vel (+ 10,000 conexÃµessimultÃ¢neas - fÃ¡cil);
â€¢ Lida com arquivos estÃ¡ticos, index, auto-indexing e negociaÃ§Ã£o de conteÃºdo
â€¢ TLS/SSL via OpenSSL ou wolfSSL;
â€¢ Servidores virtuais com endereÃ§os baseados em IP ou nome;
â€¢ Compatibilidade com IPV6;
â€¢ Suporte Ã  versÃ£o 2.0 do HTTP;
â€¢ Proxy reverso, websocket ...


##### Xampp

Pacote/ambiente

â€¢ Apache server
â€¢ MariaDB
â€¢ Interpretadores script â€“ PHP/Perl

Alguns mÃ³dulos: OpenSSL, phpMyAdmin, MediaWki, Joo mla, Wordpress ...

##### NGINX

Servidor / 2004

â€¢ Web server;
â€¢ Proxy reverso;
â€¢ Load balancer;
â€¢ Mail proxy;
â€¢ HTTP cache;

Recursos:
â€¢ + 10mil conexÃµessimultÃ¢neas;
â€¢ Lida com arquivos estÃ¡ticos, index, auto-indexing;
â€¢ Proxy reverso;
â€¢ Load balance;
â€¢ TLS/SSL com SNI via OpenSSL;
â€¢ Suporte Ã  HTTP 2.0;
â€¢ CompatÃ­vel com IPV6;
â€¢ FastCGI SCGI, uWSGI com cache;
â€¢ Suporte a gRPC (v. 1.13.10);
â€¢ Servidores virtuais baseados em IP e nome;
â€¢ WebSocket desde 1.3.13;
â€¢ URL rewriting and redirection[35][36].